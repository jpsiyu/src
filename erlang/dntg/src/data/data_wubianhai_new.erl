%%%------------------------------------
%%% @Module  : data_wubianhai_new
%%% @Author  : guoxi
%%% @Email   : guoxi@jieyou.cn
%%% @Created : 2012.7.6
%%% @Description: 大闹天宫(无边海)
%%%------------------------------------
-module(data_wubianhai_new).
-compile(export_all).
%%
%% Include files
%%
-include("predefine.hrl").

%%
%% Exported Functions
%%

%%
%% API Functions
%%
%% 基础数据配置
get_wubianhai_config(Type)->
	case Type of
		% [开始时刻，结束时刻][[19,0],[20,0]];
		arena_time -> 
            [[Config_Begin_Hour1,Config_Begin_Minute1],[Config_End_Hour1,Config_End_Minute1]] = [[11,0],[12,0]],
            [[Config_Begin_Hour2,Config_Begin_Minute2],[Config_End_Hour2,Config_End_Minute2]] = [[19,0],[20,0]],
            {{_,_,_},{Hour,Minute,Second}} = calendar:local_time(),
            NowTime = (Hour*60+Minute)*60+Second,
            Config_End1 = (Config_End_Hour1*60 + Config_End_Minute1)*60,
            Config_End2 = (Config_End_Hour2*60 + Config_End_Minute2)*60,
            if NowTime < Config_End1 orelse NowTime > Config_End2 ->
                   [[Config_Begin_Hour1,Config_Begin_Minute1],[Config_End_Hour1,Config_End_Minute1]];
               true ->
                   [[Config_Begin_Hour2,Config_Begin_Minute2],[Config_End_Hour2,Config_End_Minute2]]
            end;            
		% 等级限制(30级以上，含30)
		apply_level -> 30;
		% 房间最大人口数
        room_max_num -> 200;
		% 另开启新房间人口条件
		room_new_num -> 175;
		% 场景类型ID
        scene_id -> 420;
		% 长生点
		scene_born->[[14,53],[14,53]];
		% 离开竞技场的默认位置[场景类型ID, X坐标, Y坐标]
		leave_scene -> 
            {MainX, MainY} = lib_scene:get_main_city_x_y(),
            [?MAIN_CITY_SCENE, MainX, MainY];
		% 奖励物品Id
		award -> [112201,112202,112704,601701];
		%% 怪物坐标.
		mon12 -> [{29,129},{15,125},{17,133},{37,127},{36,119},{34,113},{31,109},{30,120},{22,145}];
		mon13 -> [{29,129},{15,125},{17,133},{37,127},{36,119},{34,113},{31,109},{30,120},{22,145},{20,140},{25,136}];
		mon14 -> [{29,129},{15,125},{17,133},{37,127},{36,119},{34,113},{31,109},{30,120},{22,145},{20,140},{25,136},{24,132},{16,118}];
		mon15 -> [{29,129},{15,125},{17,133},{37,127},{36,119},{34,113},{31,109},{30,120},{22,145},{20,140},{25,136},{24,132},{16,118},{28,142},{42,123}];
        mon16 -> [{29,129},{15,125},{17,133},{37,127},{36,119},{34,113},{31,109},{30,120},{22,145},{20,140},{25,136},{24,132},{16,118},{28,142},{42,123},{20,124},{32,135}];
		mon17 -> [{29,129},{15,125},{17,133},{37,127},{36,119},{34,113},{31,109},{30,120},{22,145},{20,140},{25,136},{24,132},{16,118},{28,142},{42,123},{20,124},{32,135},{27,206}];
		mon22 -> [{94,49},{95,51},{99,44},{101,56},{92,59},{96,62},{103,59},{112,56},{109,44},{108,34},{112,29}];
		mon23 -> [{94,49},{95,51},{99,44},{101,56},{92,59},{96,62},{103,59},{112,56},{109,44},{108,34},{112,29},{119,28},{124,36}];
		mon24 -> [{94,49},{95,51},{99,44},{101,56},{92,59},{96,62},{103,59},{112,56},{109,44},{108,34},{112,29},{119,28},{124,36},{122,44},{117,47}];
		mon25 -> [{94,49},{95,51},{99,44},{101,56},{92,59},{96,62},{103,59},{112,56},{109,44},{108,34},{112,29},{119,28},{124,36},{122,44},{117,47},{108,59},{104,50}];
		mon26 -> [{94,49},{95,51},{99,44},{101,56},{92,59},{96,62},{103,59},{112,56},{109,44},{108,34},{112,29},{119,28},{124,36},{122,44},{117,47},{108,59},{104,50},{96,56},{96,45}];
        mon27 -> [{94,49},{95,51},{99,44},{101,56},{92,59},{96,62},{103,59},{112,56},{109,44},{108,34},{112,29},{119,28},{124,36},{122,44},{117,47},{108,59},{104,50},{96,56},{96,45},{106,39}];
		mon32 -> [{53,153},{60,154},{60,144},{53,143}];
		mon33 -> [{53,153},{60,154},{60,144},{53,143},{64,158}];
		mon34 -> [{53,153},{60,154},{60,144},{53,143},{64,158},{47,159}];
		mon35 -> [{53,153},{60,154},{60,144},{53,143},{64,158},{47,159},{70,175}];
		mon36 -> [{53,153},{60,154},{60,144},{53,143},{64,158},{47,159},{70,175},{55,161}];
        mon37 -> [{53,153},{60,154},{60,144},{53,143},{64,158},{47,159},{70,175},{55,161}];
		mon322 -> [{70,32},{65,23},{71,20},{64,15}];
		mon332 -> [{70,32},{65,23},{71,20},{64,15},{58,21}];
		mon342 -> [{70,32},{65,23},{71,20},{64,15},{58,21},{64,31}];
		mon352 -> [{70,32},{65,23},{71,20},{64,15},{58,21},{64,31},{74,23}];
		mon362 -> [{70,32},{65,23},{71,20},{64,15},{58,21},{64,31},{74,23},{69,35}];
        mon372 -> [{70,32},{65,23},{71,20},{64,15},{58,21},{64,31},{74,23},{69,35}];
		mon42 -> [{17,86},{14,91},{11,66}];
		mon43 -> [{17,86},{14,91},{11,66},{9,77}];
		mon44 -> [{17,86},{14,91},{11,66},{9,77},{23,75}];
		mon45 -> [{17,86},{14,91},{11,66},{9,77},{23,75},{15,72}];
		mon46 -> [{17,86},{14,91},{11,66},{9,77},{23,75},{15,72},{22,80}];
        mon47 -> [{17,86},{14,91},{11,66},{9,77},{23,75},{15,72},{22,80}];
		mon422 -> [{128,75},{123,75},{119,83},{127,91}];
		mon432 -> [{128,75},{123,75},{119,83},{127,91},{131,98}];
		mon442 -> [{128,75},{123,75},{119,83},{127,91},{131,98},{121,86}];
		mon452 -> [{128,75},{123,75},{119,83},{127,91},{131,98},{121,86},{128,82}];
		mon462 -> [{128,75},{123,75},{119,83},{127,91},{131,98},{121,86},{128,82},{133,99}];
        mon472 -> [{128,75},{123,75},{119,83},{127,91},{131,98},{121,86},{128,82},{133,99}];
		mon51 -> [{99,117},{90,104},{90,126},{109,127}];
		mon52 -> [{99,117},{90,104},{90,126},{109,127},{99,127}];
		mon53 -> [{99,117},{90,104},{90,126},{109,110},{109,127},{99,127},{103,99}];
        mon54 -> [{99,117},{90,104},{90,126},{109,110},{109,127},{112,129},{99,127},{103,99}];
		mon61 -> [{40,54},{42,43},{32,39},{25,47}];
		mon62 -> [{40,54},{42,43},{32,39},{25,47},{28,55}];
		mon63 -> [{40,54},{42,43},{32,39},{25,47},{28,55},{35,60},{18,19}];
        mon64 -> [{40,54},{42,43},{32,39},{25,47},{28,55},{35,60},{18,19},{25,36}];
		mon71 -> [{65,68}];
		%% 怪物ID
		mon_id -> [42001, 42002, 42003, 42004, 42005, 42006, 42007];
		%% 任务列表
		%% [Tid, MonId, Num, AwardIdList, Exp, Lilian, TaskName]
		%% 击杀玩家数量
		kill_task -> [{"", 0}, {"", 0}, {"", 0}];
		%% [任务Id, 怪物Id, 收集数量, 奖励物品Id列表, 奖励经验, 奖励历练, 任务名称, 怪物自动寻路坐标X, 怪物自动寻路坐标Y]
        task1_3 -> [1, 42001, 20, [112202], 7350, 0, "收集仙桃", 11,46];
        task2_3 -> [2, 42002, 20, [112202], 7350, 0, "收集老君仙丹", 48,22];
        task3_3 -> [3, 42003, 20, [112202, 112202], 11025, 0, "击退天兵 ", 18,54];
        task4_3 -> [4, 42004, 20, [112705], 11025, 0, "击退天将", 5,29];
        task5_3 -> [5, 42005, 10, [112202], 18375, 0, "击退哪吒", 37,44];
        task6_3 -> [6, 42006, 10, [532211], 18375, 10000, "击退二郎神", 12,17];
        task7_3 -> [7, 42007, 2,  [601701], 21240, 10000, "击退托塔李天王", 23,26];

        task1_4 -> [1, 42001, 20, [112202], 12150, 0, "收集仙桃", 11,46];
        task2_4 -> [2, 42002, 20, [112202], 12150, 0, "收集老君仙丹", 48,22];
        task3_4 -> [3, 42003, 20, [112202, 112202], 18225, 0, "击退天兵 ", 18,54];
        task4_4 -> [4, 42004, 20, [112705], 18225, 0, "击退天将", 5,29];
        task5_4 -> [5, 42005, 10, [112202], 30375, 0, "击退哪吒", 37,44];
        task6_4 -> [6, 42006, 10, [532211], 30375, 10000, "击退二郎神", 12,17];
        task7_4 -> [7, 42007, 2,  [601701], 41250, 10000, "击退托塔李天王", 23,26];
        
        task1_5 -> [1, 42001, 20, [112202], 18150, 0, "收集仙桃", 11,46];
        task2_5 -> [2, 42002, 20, [112202], 18150, 0, "收集老君仙丹", 48,22];
        task3_5 -> [3, 42003, 20, [112202, 112202], 27225, 0, "击退天兵 ", 18,54];
        task4_5 -> [4, 42004, 20, [112705], 27225, 0, "击退天将", 5,29];
        task5_5 -> [5, 42005, 10, [112202], 45375, 0, "击退哪吒", 37,44];
        task6_5 -> [6, 42006, 10, [532211], 45375, 10000, "击退二郎神", 12,17];
        task7_5 -> [7, 42007, 2,  [601701], 51260, 10000, "击退托塔李天王", 23,26];
          
		%% 中间Boss刷新时间
		boss_refresh_time -> 150;
		%% 房间玩家人数
		player_num1 -> 20;
		player_num2 -> 40;
		player_num3 -> 60;
		player_num4 -> 80;
		player_num5 -> 100;
        average_level -> 35;
		_ ->void
	end.

%% 获取战场等级
%% @param PlayerLv 玩家等级
get_room_lv(PlayerLv)->
	if
		PlayerLv=<100->1;
		PlayerLv=<500->1;
		PlayerLv=<800->1;
		true->1
    end.

%% 获取任务等级
%% @param PlayerLv 任务等级 任务数量不同
get_task_lv(PlayerLv)->
	if
		PlayerLv<35->5;
		PlayerLv=<39->3;
		PlayerLv=<49->4;
		PlayerLv=<59->5;
		true->5
    end.

get_phase_hp(PlayerLv) ->
	if
		PlayerLv<40->5000;
		PlayerLv=<44->10000;
		PlayerLv=<49->15000;
		PlayerLv=<54->20000;
		PlayerLv=<59->25000;
		PlayerLv=<64->30000;
		PlayerLv=<69->35000;
		PlayerLv=<74->40000;
		true->40000
    end.

get_wubianhai_text(Type) ->
    case Type of
        0 -> "获得 ";
        1 -> " 一个";
        2 -> "决战南天门 节日礼物";
        3 -> "亲爱滴玩家，小年来临之际，天庭给所有参加大战南天门的玩家发送节日礼物。";
        _ -> ""
    end.
